$(function() {
    $(window).resize(videoresize);
	$("#bt_fs").fadeIn(300, "linear");
    $("#scene_top").fadeIn(300,"linear");
    $(".ok").fadeIn(300, "linear");
    $("#bt_fs").on('click', function(){util.fullscreen();});
    $("#btt_start").on('click', study);//开始
    $("#btt_about").on('click', function(){menuopen("about")});//关于
    $("#about_cover").on('click', function(){
        $("#about").fadeOut(300, "linear");
        $("#about_cover").fadeOut(300, "linear");
        $("#scene_top").fadeIn(300,"linear");
        $(".ok").fadeIn(300, "linear");
    });
    $("#bt_rest").on('click', function(){menuopen("rest")});//结束
});
function breakmenu(){
    
}
function menuopen(e){
    $("#"+e).fadeIn(300, "linear");
    $("#"+e+"_cover").fadeIn(300, "linear");
    $("#bt_"+e+"close").on('click', function(){
        $("#"+e).fadeOut(300, "linear");
        $("#"+e+"_cover").fadeOut(300, "linear");
    });
}
function study(){
    $('.aplayer-play').trigger('click');
    $("#scene_top").fadeOut(300,"linear");
    $(".ok").fadeOut(300, "linear");
    $("#scene_learning").fadeIn(300, "linear");
    videoresize();
    $("#bt_rest").fadeIn(300, "linear");
    $("#bt_stop").on('click', function(){
        $('.aplayer-pause').trigger('click');
        $("#scene_top").fadeIn(300,"linear");
        $(".ok").fadeIn(300, "linear");
        $("#scene_learning").fadeOut(300, "linear");
        $("#bt_rest").fadeOut(300, "linear");
        $("#rest").fadeOut(300, "linear");
        $("#rest_cover").fadeOut(300, "linear");
    });
}
function timerecord(){
    
}

function videoresize(){
    var ww=$(window).width(),
        wh=$(window).height(),
        vw=$("video").width(),
        vh=$("video").height();
    if(ww*0.5625>=wh)
    {
        $("video").css("height","auto").css("width",ww).css("top",wh/2-$("video").height()/2).css("left","0");
        // console.log("wh:"+wh+"vh:"+$("video").height());
        // console.log(wh/2-$("video").height()/2);
    }else{
        $("video").css("height",wh).css("width","auto").css("left",ww/2-$("video").width()/2).css("top","0");
        // console.log("ww:"+ww+"vw:"+$("video").width());
        // console.log(ww/2-$("video").width()/2);
    }
}

var util = 	{fullscreen: function(e) {
    util.checkFullscreen() ? document.webkitCancelFullScreen ? document.webkitCancelFullScreen() : document.mozCancelFullScreen ? document.mozCancelFullScreen() : document.msExitFullscreen ? document.msExitFullscreen() : document.cancelFullScreen ? document.cancelFullScreen() : document.exitFullscreen && document.exitFullscreen() : (e ? "string" == typeof e && (e = document.getElementById(e)) : e = document.body, e.webkitRequestFullscreen ? e.webkitRequestFullscreen() : e.mozRequestFullScreen ? e.mozRequestFullScreen() : e.msRequestFullscreen ? e.msRequestFullscreen() : e.requestFullscreen && e.requestFullscreen())
},
checkFullscreen: function() {
    return !!(document.webkitFullscreenElement || document.mozFullScreenElement || document.mozFullScreenElement || document.msFullscreenElement || document.fullscreenElement)
}}


console.log("\n %c Study With Miku v0.2 %c 在干什么呢(・∀・(・∀・(・∀・*) \n", "color: #fadfa3; background: #030307; padding:5px 0;", "background: #fadfa3; padding:5px 0; color: #000")
